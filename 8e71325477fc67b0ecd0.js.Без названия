(self.webpackJsonp=self.webpackJsonp||[]).push([[5],{1261:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountComponent",(function(){return a}));var r=n(932),i=n.n(r);n(933);var a={template:i.a,bindings:{user:"<"},controller:function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}}},1262:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountFavoritesComponent",(function(){return s}));n(24),n(80),n(12),n(13),n(7);var r=n(51),i=n.n(r),a=n(241),o=n(934);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s={template:n.n(o).a,controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$injector=t,this.saving={},this.selected={}}var t,n,r;return e.$inject=["$injector"],t=e,(n=[{key:"$onInit",value:function(){this.query=this.q}},{key:"areAllPlunksSelected",value:function(){var e=i.a.keys(this.selected);return this.plunks.length&&e.length===this.plunks.length}},{key:"isSelected",value:function(e){return this.selected[e.id]}},{key:"onClickClearSearch",value:function(e){e.preventDefault(),e.stopPropagation(),this.$injector.get("$state").go(".",{offset:0,q:""})}},{key:"onClickPlunkTitle",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$injector.get("$state").go("plunk",{plunkId:t.id})}},{key:"onClickRow",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.togglePlunkSelection(t)}},{key:"onClickSelectAll",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=!this.areAllPlunksSelected();i.a.forEach(this.plunks,(function(e){return t.togglePlunkSelection(e,n)}))}},{key:"onClickTag",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.$injector.get("$state"),r=this.$injector.get("$stateParams").tags||[];r.push(t),e.preventDefault(),n.go(".",{tags:r})}},{key:"onClickRemoveTag",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.$injector.get("$state"),r=this.$injector.get("$stateParams").tags||[];i.a.pull(r,t),e.preventDefault(),n.go(".",{tags:r})}},{key:"onClickTogglePublic",value:function(e,t,n){var r=this;e.preventDefault(),e.stopPropagation();var a=this.$injector.get("$q"),o=this.$injector.get("api"),l=this.$injector.get("toast");this.saving[t.id]=!0;var s={title:t.title,tags:t.tags,private:n};return o.request({method:"PATCH",url:"".concat("https://api.plnkr.co/v2","/plunks/").concat(encodeURIComponent(t.id)),data:s}).then((function(e){return 403===e.status?a.reject(o.createResponseError(e,"Unauthorized")):e.status>=400?a.reject(o.createResponseError(e)):e.data})).then((function(e){return i.a.extend(t,e)}),(function(e){return l.error(e.message)})).finally((function(){return r.saving[t.id]=!1}))}},{key:"onPageChange",value:function(e){var t=this.$injector.get("$state"),n=this.plunks.$limit,r=Math.floor((e-1)*this.plunks.$limit/n)*n;t.go(".",{offset:r,limit:n})}},{key:"onSearch",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.$injector.get("$state");e.preventDefault(),n.go(".",{q:t})}},{key:"togglePlunkSelection",value:function(e,t){void 0===t&&(t=!this.isSelected(e)),t?this.selected[e.id]=e:delete this.selected[e.id]}}])&&l(t.prototype,n),r&&l(t,r),e}(),bindings:{plunks:"<",q:"<",tags:"<"},dependencies:[a.a]}},1263:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountPlunksComponent",(function(){return s}));n(24),n(80),n(12),n(13),n(7);var r=n(51),i=n.n(r),a=n(241),o=n(935);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s={template:n.n(o).a,controller:function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$injector=t,this.saving={},this.selected={}}var t,n,r;return e.$inject=["$injector"],t=e,(n=[{key:"$onInit",value:function(){this.query=this.q}},{key:"areAllPlunksSelected",value:function(){var e=i.a.keys(this.selected);return this.plunks.length&&e.length===this.plunks.length}},{key:"isSelected",value:function(e){return this.selected[e.id]}},{key:"onClickClearSearch",value:function(e){e.preventDefault(),e.stopPropagation(),this.$injector.get("$state").go(".",{offset:0,q:""})}},{key:"onClickPlunkTitle",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.$injector.get("$state").go("plunk",{plunkId:t.id})}},{key:"onClickRow",value:function(e,t){e.preventDefault(),e.stopPropagation(),this.togglePlunkSelection(t)}},{key:"onClickSelectAll",value:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n=!this.areAllPlunksSelected();i.a.forEach(this.plunks,(function(e){return t.togglePlunkSelection(e,n)}))}},{key:"onClickTag",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.$injector.get("$state"),r=this.$injector.get("$stateParams").tags||[];r.push(t),e.preventDefault(),n.go(".",{tags:r})}},{key:"onClickRemoveTag",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.$injector.get("$state"),r=this.$injector.get("$stateParams").tags||[];i.a.pull(r,t),e.preventDefault(),n.go(".",{tags:r})}},{key:"onClickTogglePublic",value:function(e,t,n){var r=this;e.preventDefault(),e.stopPropagation();var a=this.$injector.get("$q"),o=this.$injector.get("api"),l=this.$injector.get("toast");this.saving[t.id]=!0;var s={title:t.title,tags:t.tags,private:n};return o.request({method:"PATCH",url:"".concat("https://api.plnkr.co/v2","/plunks/").concat(encodeURIComponent(t.id)),data:s}).then((function(e){return 403===e.status?a.reject(o.createResponseError(e,"Unauthorized")):e.status>=400?a.reject(o.createResponseError(e)):e.data})).then((function(e){return i.a.extend(t,e)}),(function(e){return l.error(e.message)})).finally((function(){return r.saving[t.id]=!1}))}},{key:"onPageChange",value:function(e){var t=this.$injector.get("$state"),n=this.plunks.$limit,r=Math.floor((e-1)*this.plunks.$limit/n)*n;t.go(".",{offset:r,limit:n})}},{key:"onSearch",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.$injector.get("$state");e.preventDefault(),n.go(".",{q:t})}},{key:"togglePlunkSelection",value:function(e,t){void 0===t&&(t=!this.isSelected(e)),t?this.selected[e.id]=e:delete this.selected[e.id]}}])&&l(t.prototype,n),r&&l(t,r),e}(),bindings:{plunks:"<",q:"<",tags:"<"},dependencies:[a.a]}},1264:function(e,t,n){"use strict";n.r(t),n.d(t,"AccountProfileComponent",(function(){return d}));n(17),n(14),n(42),n(8),n(11),n(24),n(71),n(57),n(12),n(13),n(7),n(27),n(132);var r=n(169),i=n(40),a=n(53),o=n(936),l=n.n(o);n(937);function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,a,o){try{var l=e[a](o),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){u(a,r,i,o,l,"next",e)}function l(e){u(a,r,i,o,l,"throw",e)}o(void 0)}))}}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=new Set(["company","description","email","location","name","picture_url","website_url"]),d={template:l.a,bindings:{identities:"<",user:"<"},controller:function(){function e(t,n,r,i,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$scope=t,this.$state=n,this.api=r,this.auth=i,this.profile={},this.session=a,this.suggestions={},this.toast=o}var t,n,r,i,a,o;return e.$inject=["$scope","$state","api","auth","session","toast"],t=e,(n=[{key:"$onInit",value:function(){var e=this;this.resetProfile(this.user),this.identities.forEach((function(t){for(var n in t.profile)g.has(n)&&function(){var r=t.profile[n];e.suggestions[n]||(e.suggestions[n]=[]),e.profile[n]||(e.profile[n]=r),r&&!e.suggestions[n].find((function(e){return e.value===r}))&&e.suggestions[n].push({key:n,value:r,className:e.auth.getServiceClass(t.provider)})}()}))}},{key:"onClickAddIdentity",value:(o=p(regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.authenticate();case 2:return t=e.sent,e.prev=3,e.next=6,this.auth.attachIdentities([t]);case 6:return n=e.sent,e.abrupt("return",this.$scope.$apply((function(){r.identities=n})));case 10:e.prev=10,e.t0=e.catch(3),this.toast.error(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[3,10]])}))),function(){return o.apply(this,arguments)})},{key:"onClickPicture",value:function(e){this.profile.picture_url=e,this.profile.picture_url!==this.user.picture_url?this.form.picture_url.$setDirty():this.form.picture_url.$setPristine()}},{key:"onClickRemoveIdentity",value:(a=p(regeneratorRuntime.mark((function e(t){var n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.auth.detachIdentities([t.id]);case 3:return n=e.sent,e.abrupt("return",this.$scope.$apply((function(){r.identities=n})));case 7:e.prev=7,e.t0=e.catch(0),this.toast.error(e.t0.message);case 10:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(e){return a.apply(this,arguments)})},{key:"onClickSubmit",value:(i=p(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.request({method:"PATCH",url:"".concat("https://api.plnkr.co/v2","/my/profile"),expectStatus:[200],data:this.profile});case 2:return e.next=4,this.auth.renewAuthorizationToken();case 4:t=e.sent,this.session.setToken(t),this.$state.go("account.profile",{},{reload:!0});case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"resetProfile",value:function(e){var t,n=s(g);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.profile[r]=e[r]||""}}catch(e){n.e(e)}finally{n.f()}}}])&&f(t.prototype,n),r&&f(t,r),e}(),dependencies:[r.a,i.a,a.a]}},932:function(e,t){e.exports='<div class=plunker-account-component> <div class="plunker-account-hero plunker-hero-wrap"> <div class=plunker-account-image> <img ng-src="{{ $ctrl.user.picture_url }}"/> </div> <div class=plunker-account-info> <h1>{{ $ctrl.user.username }}</h1> <h2 ng-if="$ctrl.user.name && $ctrl.user.name !== $ctrl.user.username"> {{ $ctrl.user.name }} </h2> <p ng-if=$ctrl.user.description>{{ $ctrl.user.description }}</p> </div> </div> <div class="plunker-full-width plunker-account-sections"> <ul class=plunker-account-subnav> <li ui-sref-active=active> <a class=plunker-account-nav ui-sref=account.plunks>Plunks</a> </li> <li ui-sref-active=active> <a class=plunker-account-nav ui-sref=account.favorites>Favorites</a> </li> <li ui-sref-active=active> <a class=plunker-account-nav ui-sref=account.profile>Profile</a> </li> </ul> </div> <div class=plunker-account-view ui-view></div> </div> '},933:function(e,t,n){},934:function(e,t){e.exports='<div class=plunker-account-plunks> <h1>Favorite plunks</h1> <form ng-submit="$ctrl.onSearch($event, $ctrl.query)"> <div class="form-group has-feedback"> <input type=search class=form-control placeholder="Search plunks..." ng-model=$ctrl.query /> <button type=button class=plunker-search-clear ng-click=$ctrl.onClickClearSearch($event) ng-if=$ctrl.q uib-tooltip="Clear search" tooltip-append-to-body=true></button> </div> <div class=plunker-account-tags ng-if=$ctrl.tags.length> <span class=plunker-account-tag ng-repeat="tag in $ctrl.tags"> <span> {{ ::tag }} <button type=button class=plunker-tag-remove ng-click="$ctrl.onClickRemoveTag($event, tag)"> &times; </button> </span> </span> </div> </form> <plunker-plunk-card-grid on-page-change=$ctrl.onPageChange(page) plunks=$ctrl.plunks></plunker-plunk-card-grid> </div> '},935:function(e,t){e.exports='<div class=plunker-account-plunks> <h1>My plunks</h1> <form ng-submit="$ctrl.onSearch($event, $ctrl.query)"> <div class="form-group has-feedback"> <input type=search class=form-control placeholder="Search plunks..." ng-model=$ctrl.query /> <button type=button class=plunker-search-clear ng-click=$ctrl.onClickClearSearch($event) ng-if=$ctrl.q uib-tooltip="Clear search" tooltip-append-to-body=true></button> </div> <div class=plunker-account-tags ng-if=$ctrl.tags.length> <span class=plunker-account-tag ng-repeat="tag in $ctrl.tags"> <span> {{ ::tag }} <button type=button class=plunker-tag-remove ng-click="$ctrl.onClickRemoveTag($event, tag)"> &times; </button> </span> </span> </div> </form> <plunker-plunk-card-grid on-page-change=$ctrl.onPageChange(page) plunks=$ctrl.plunks></plunker-plunk-card-grid> </div> '},936:function(e,t){e.exports='<fieldset> <legend>Manage Identities</legend> <div class=profile-identity-list> <div class=profile-identity-wrap ng-disabled="$ctrl.identities.length <= 1" ng-repeat="identity in $ctrl.identities"> <button class=profile-identity-icon ng-click=$ctrl.onClickRemoveIdentity(identity) ng-disabled="$ctrl.identities.length <= 1" uib-tooltip="Remove this identity" tooltip-placement="auto top" tooltip-append-to-body=true> <i class="profile-identity-icon fa fa-fw {{$ctrl.auth.getServiceClass(identity.provider)}}"></i> </button> <span class=profile-identity-username>{{identity.profile.username}}</span> </div> <button class="btn btn-xs btn-default" ng-click=$ctrl.onClickAddIdentity($event)> Add identity </button> <p class=profile-identity-empty ng-if=!$ctrl.identities.length> No identities linked. Please associated at least one social identity by clicking the buttons above. </p> </div> </fieldset> <fieldset> <legend>Edit Profile</legend> <form name=$ctrl.form ng-submit=$ctrl.onClickSubmit($event)> <div class=form-group> <input type=hidden name=picture_url ng-model=$ctrl.profile.picture_url /> <label class=control-label>Select image</label> <ul class="list-inline auth-profile-img"> <li ng-repeat="suggestion in $ctrl.suggestions.picture_url"> <a href ng-click=$ctrl.onClickPicture(suggestion.value)> <img class=img-thumbnail ng-class="{selected: suggestion.value==$ctrl.profile.picture_url}" ng-src={{suggestion.value}} /> </a> </li> </ul> </div> <div class=form-group> <label class=control-label>Username:</label> <input class=form-control type=text disabled=disabled required ng-model=$ctrl.user.username /> </div> <plunker-profile-input name=name type=text label="Full name" placeholder="John Doe" value=$ctrl.profile.name field=$ctrl.form.name suggestions=$ctrl.suggestions.name control=$ctrl.form.name> </plunker-profile-input> <plunker-profile-input name=email type=text label="Email address" placeholder=user@server.com value=$ctrl.profile.email field=$ctrl.form.email suggestions=$ctrl.suggestions.email control=$ctrl.form.email required> <div class=auth-profile-messages ng-messages=$ctrl.form.email.$error> <div class="auth-profile-error text-danger" ng-message=required> <div uib-tooltip="This field is required" tooltip-append-to-body=true tooltip-placement="auto top"> <span class="fa fa-fw fa-remove"></span> </div> </div> </div> </plunker-profile-input> <plunker-profile-input name=description type=textarea label=Description placeholder="Tell others a little bit about yourself..." value=$ctrl.profile.description field=$ctrl.form.description suggestions=$ctrl.suggestions.description control=$ctrl.form.description> </plunker-profile-input> <plunker-profile-input name=location type=text label=Location placeholder="City, State / Privince, Country, Planet..." value=$ctrl.profile.location field=$ctrl.form.location suggestions=$ctrl.suggestions.location control=$ctrl.form.location> </plunker-profile-input> <plunker-profile-input name=website_url type=text label=Website placeholder=https://... value=$ctrl.profile.website_url field=$ctrl.form.website_url suggestions=$ctrl.suggestions.website_url control=$ctrl.form.website_url> </plunker-profile-input> <button class=btn type=submit ng-class="{\n                \'btn-default\': $ctrl.form.$pristine || $ctrl.form.$invalid,\n                \'btn-success\': $ctrl.form.$dirty && $ctrl.form.$valid,\n            }" ng-disabled="$ctrl.form.$pristine || $ctrl.form.$invalid"> Update </button> <span class=text-warning ng-if=$ctrl.form.$dirty>You have unsaved changes.</span> </form> </fieldset> '},937:function(e,t,n){}}]);